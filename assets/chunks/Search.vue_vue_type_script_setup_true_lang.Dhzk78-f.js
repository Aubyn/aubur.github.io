import{a1 as z,a2 as Y,p as k,d as S,a3 as W,h as q,o as y,c as w,G as O,w as R,r as G,k as r,K as P,X,Z as T,e as J,F as j,b as F,q as L,P as Q,a4 as I,L as Z,V as ee,a5 as D,a6 as te,a7 as se,D as ne,j as g,a8 as ae,a9 as le,aa as U,t as B,C as oe,n as re}from"./framework.D9MR4Zbk.js";function ie(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,o=Symbol(n);return[s=>{const l=Z(o,s);if(l||l===null)return l;throw new Error(`Injection \`${o.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},s=>(ee(o,s),s)]}function ue(e){let t=!1,n;const o=Y(!0);return(...s)=>(t||(n=o.run(()=>e(...s)),t=!0),n)}function H(e){return typeof e=="function"?e():r(e)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ce=e=>typeof e<"u";function V(e){var t;const n=H(e);return(t=n==null?void 0:n.$el)!=null?t:n}function de(e){return JSON.parse(JSON.stringify(e))}function pe(e,t,n,o={}){var s,l,i;const{clone:u=!1,passive:f=!1,eventName:h,deep:v=!1,defaultValue:a,shouldEmit:d}=o,m=D(),C=n||(m==null?void 0:m.emit)||((s=m==null?void 0:m.$emit)==null?void 0:s.bind(m))||((i=(l=m==null?void 0:m.proxy)==null?void 0:l.$emit)==null?void 0:i.bind(m==null?void 0:m.proxy));let _=h;_=_||`update:${t.toString()}`;const E=p=>u?typeof u=="function"?u(p):de(p):p,c=()=>ce(e[t])?E(e[t]):a,b=p=>{d?d(p)&&C(_,p):C(_,p)};if(f){const p=c(),N=k(p);let $=!1;return L(()=>e[t],x=>{$||($=!0,N.value=E(x),Q(()=>$=!1))}),L(N,x=>{!$&&(x!==e[t]||v)&&b(x)},{deep:v}),N}else return q({get(){return c()},set(p){b(p)}})}function A(e){return e?e.flatMap(t=>t.type===j?A(t.children):[t]):[]}function fe(e){return q(()=>{var t;return H(e)?!!((t=V(e))!=null&&t.closest("form")):!0})}function K(){const e=D(),t=k(),n=q(()=>{var i,u;return["#text","#comment"].includes((i=t.value)==null?void 0:i.$el.nodeName)?(u=t.value)==null?void 0:u.$el.nextElementSibling:V(t)}),o=Object.assign({},e.exposed),s={};for(const i in e.props)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>e.props[i]});if(Object.keys(o).length>0)for(const i in o)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>o[i]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=s;function l(i){t.value=i,!(i instanceof Element||!i)&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>i.$el}),e.exposed=s)}return{forwardRef:l,currentRef:t,currentElement:n}}const he=S({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{var o,s;if(!n.default)return null;const l=A(n.default()),i=l.findIndex(v=>v.type!==te);if(i===-1)return l;const u=l[i];(o=u.props)==null||delete o.ref;const f=u.props?P(t,u.props):t;t.class&&(s=u.props)!=null&&s.class&&delete u.props.class;const h=se(u,f);for(const v in f)v.startsWith("on")&&(h.props||(h.props={}),h.props[v]=f[v]);return l.length===1?h:(l[i]=h,l)}}}),M=S({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const o=e.asChild?"template":e.as;return typeof o=="string"&&["area","img","input"].includes(o)?()=>I(o,t):o!=="template"?()=>I(e.as,t,{default:n.default}):()=>I(he,t,{default:n.default})}});z({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});ue(()=>k([]));function ve(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}ve();const me=["name","disabled","required","value","checked","data-state","data-disabled"],[ge,ye]=ie("SwitchRoot"),be=S({__name:"SwitchRoot",props:{defaultChecked:{type:Boolean},checked:{type:Boolean,default:void 0},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"}},emits:["update:checked"],setup(e,{emit:t}){const n=e,o=t,{disabled:s}=W(n),l=pe(n,"checked",o,{defaultValue:n.defaultChecked,passive:n.checked===void 0});function i(){s.value||(l.value=!l.value)}const{forwardRef:u,currentElement:f}=K(),h=fe(f),v=q(()=>{var a;return n.id&&f.value?(a=document.querySelector(`[for="${n.id}"]`))==null?void 0:a.innerText:void 0});return ye({checked:l,toggleCheck:i,disabled:s}),(a,d)=>(y(),w(j,null,[O(r(M),P(a.$attrs,{id:a.id,ref:r(u),role:"switch",type:a.as==="button"?"button":void 0,value:a.value,"aria-label":a.$attrs["aria-label"]||v.value,"aria-checked":r(l),"aria-required":a.required,"data-state":r(l)?"checked":"unchecked","data-disabled":r(s)?"":void 0,"as-child":a.asChild,as:a.as,disabled:r(s),onClick:i,onKeydown:X(T(i,["prevent"]),["enter"])}),{default:R(()=>[G(a.$slots,"default",{checked:r(l)})]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]),r(h)?(y(),w("input",{key:0,type:"checkbox",name:a.name,tabindex:"-1","aria-hidden":"true",disabled:r(s),required:a.required,value:a.value,checked:!!r(l),"data-state":r(l)?"checked":"unchecked","data-disabled":r(s)?"":void 0,style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},null,8,me)):J("",!0)],64))}}),we=S({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){const t=ge();return K(),(n,o)=>{var s;return y(),F(r(M),{"data-state":(s=r(t).checked)!=null&&s.value?"checked":"unchecked","data-disabled":r(t).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},{default:R(()=>[G(n.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),ke=()=>{const e=k(""),t=k("搜点什么呢"),n=k(""),o=[{title:"必应",url:"https://www.bing.com/search?q=%s"},{title:"V2EX",url:`https://www.google.com/search?q=%s${encodeURIComponent(" site:v2ex.com")}`},{title:"Google",url:"https://www.google.com/search?q=%s"},{title:"DuckDuckGo",url:"https://duckduckgo.com/?q=%s"},{title:"GitHub",url:"https://github.com/search?q=%s&type=repositories"},{title:"MDN",url:"https://developer.mozilla.org/en-US/search?q=%s"},{title:"CanIUse",url:"https://caniuse.com/?search=%s"},{title:"LONGMAN",url:"https://www.ldoceonline.com/dictionary/%s"},{title:"DeepL",url:"https://www.deepl.com/en/translator#en/zh-hans/%s"},{title:"GoogleTranslate",url:"https://translate.google.com/?sl=auto&tl=zh-CN&text=%s&op=translate"},{title:"百度翻译",url:"https://fanyi.baidu.com/mtpe-individual/multimodal?query=%s"},{title:"欧路",url:"https://dict.eudic.net/dicts/en/%s"},{title:"掘金",url:"https://juejin.cn/search?query=%s"},{title:"知乎",url:"https://www.zhihu.com/search?type=content&q=%s"},{title:"哔哩哔哩",url:"https://search.bilibili.com/all?keyword=%s"},{title:"YouTube",url:"https://www.youtube.com/results?search_query=%s"}],s=ne(o[0]),l=k(!1),i="lb_search_engine",u="lb_search_history",f="lb_search_engine_switch",h=c=>{l.value&&(s.value=c,localStorage.setItem(i,c.title))},v=()=>{if(!l.value)return;const c=localStorage.getItem(i)??"",b=o.find(p=>p.title===c);b&&(s.value=b)},a=()=>{const c=e.value.trim();c&&(n.value=c,localStorage.setItem(u,c))},d=()=>{const c=localStorage.getItem(u);c&&(n.value=c)},m=()=>{e.value=n.value},C=()=>{localStorage.setItem(f,String(l.value)),s.value=o[0]},_=()=>{const c=localStorage.getItem(f)==="false";l.value=!c},E=(c=s.value)=>{if(h(c),!e.value){t.value="输入关键词后才能搜索~";return}a();const b=c.url.replace("%s",encodeURIComponent(e.value)),p=window.open(b,"_self","noopener,noreferrer");p&&(p.opener=null)};return _(),v(),d(),{keyword:e,placeholder:t,keywordHistory:n,useHistory:m,engineList:o,engine:s,search:E,useLastEngine:l,saveUseLastEngine:C}},_e={class:"search"},Se=["placeholder"],Ce={class:"search-tool"},Ee={class:"search-history"},$e=["title"],xe={key:1},qe={class:"search-tool-item"},Ne={class:"search-engine-list"},Ie=["onClick"],Re=S({__name:"Search",setup(e){const{keyword:t,placeholder:n,keywordHistory:o,useHistory:s,engineList:l,engine:i,useLastEngine:u,search:f,saveUseLastEngine:h}=ke();return(v,a)=>(y(),w("div",_e,[g("form",{onSubmit:a[1]||(a[1]=T(d=>r(f)(),["prevent"]))},[ae(g("input",{class:"search-input",type:"text",placeholder:r(n),"onUpdate:modelValue":a[0]||(a[0]=d=>U(t)?t.value=d:null)},null,8,Se),[[le,r(t)]])],32),g("section",Ce,[g("div",Ee,[a[5]||(a[5]=g("span",null,"最近搜索：",-1)),r(o)?(y(),w("span",{key:0,class:"search-history-item",title:r(o),onClick:a[2]||(a[2]=d=>r(s)())},B(r(o)),9,$e)):(y(),w("span",xe,"--"))]),g("div",qe,[a[6]||(a[6]=g("label",{for:"search-switch-use-last-engine"},"使用上次搜索引擎",-1)),O(r(be),{id:"search-switch-use-last-engine",class:"search-switch",checked:r(u),"onUpdate:checked":[a[3]||(a[3]=d=>U(u)?u.value=d:null),a[4]||(a[4]=d=>r(h)())]},{default:R(()=>[O(r(we),{class:"search-switch-thumb"})]),_:1},8,["checked"])])]),g("section",null,[g("div",Ne,[(y(!0),w(j,null,oe(r(l),d=>(y(),w("div",{class:re({engine:!0,active:d.title===r(i).title}),onClick:m=>r(f)(d)},B(d.title),11,Ie))),256))])])]))}});export{Re as _};
